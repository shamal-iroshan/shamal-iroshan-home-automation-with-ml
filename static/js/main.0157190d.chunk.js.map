{"version":3,"sources":["app/views/Home/constants.js","app/views/Home/actions.js","app/components/AddController.jsx","app/components/Controls.jsx","app/views/Home/Home.jsx","app/App.js","reportWebVitals.js","app/views/Home/reducer.js","store/reducers.js","axios/axios.js","config/config.js","app/views/Home/saga.js","store/sagas.js","store/store.js","index.js"],"names":["GET_DATA","SAVE_DATA","SAVE_CONFIG","UPDATE_SATE","UPDATE_DEVICE","DELETE_DEVICE","ADD_DEVICE","saveData","data","type","actionTypes","payload","AddController","showAdd","setShowAdd","showEdit","setShowEdit","devicesData","dispatch","useDispatch","config","useSelector","state","homeReducer","className","onClick","onSubmit","event","preventDefault","deviceName","target","elements","value","length","maxDevices","alert","name","id","placeholder","Controls","useState","onChangeSwitch","tempArray","device","find","el","_id","index","findIndex","splice","updateData","deviceId","onEditDevice","key","onRemoveDevice","window","confirm","style","minHeight","map","item","width","defaultValue","onKeyPress","icon","color","height","checked","onChange","Home","App","useEffect","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","action","rootReducer","combineReducers","instance","axios","create","baseURL","handleGetData","handleUpdateState","handleDeviceUpdate","handleDeviceDelete","handleDeviceAdd","watchHomeSagas","getDataAsync","a","get","res","getConfigAsync","updateStateAsync","patch","updateDeviceAsync","deleteDeviceAsync","delete","addDeviceAsync","post","call","configData","deviceData","put","console","error","details","status","response","takeLatest","homeSagas","rootSaga","all","s","fork","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","configureStore","store","sagaMiddleware","createSagaMiddleware","createStore","applyMiddleware","run","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0157190d.chunk.js","sourcesContent":["export const GET_DATA = \"Home/GET_DATA\";\r\nexport const SAVE_DATA = \"Home/SAVE_DATA\";\r\nexport const SAVE_CONFIG = \"Home/SAVE_CONFIG\";\r\nexport const UPDATE_SATE = \"Home/UPDATE_STATE\";\r\nexport const UPDATE_DEVICE = \"Home/UPDATE_DEVICE\";\r\nexport const DELETE_DEVICE = \"Home/DELETE_DEVICE\";\r\nexport const ADD_DEVICE = \"Home/ADD_DEVICE\";","import * as actionTypes from \"./constants\";\r\n\r\nexport const getData = () => {\r\n  return {\r\n    type: actionTypes.GET_DATA,\r\n  }\r\n};\r\nexport const saveData = (data) => {\r\n  return {\r\n    type: actionTypes.SAVE_DATA,\r\n    payload: data,\r\n  }\r\n};\r\nexport const saveConfig = (data) => {\r\n  return {\r\n    type: actionTypes.SAVE_CONFIG,\r\n    payload: data,\r\n  }\r\n};\r\nexport const updateState = (data) => {\r\n  return {\r\n    type: actionTypes.UPDATE_SATE,\r\n    payload: data\r\n  }\r\n}\r\nexport const updateDevice = (data) => {\r\n  return {\r\n    type: actionTypes.UPDATE_DEVICE,\r\n    payload: data\r\n  }\r\n}\r\nexport const deleteDevice = (data) => {\r\n  return {\r\n    type: actionTypes.DELETE_DEVICE,\r\n    payload: data\r\n  }\r\n}\r\nexport const addDevice = (data) => {\r\n  return {\r\n    type: actionTypes.ADD_DEVICE,\r\n    payload: data\r\n  }\r\n}","import React from \"react\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {addDevice} from \"../views/Home/actions\";\r\n\r\nexport default function AddController({showAdd, setShowAdd, showEdit, setShowEdit, devicesData}) {\r\n  const dispatch = useDispatch();\r\n  const config = useSelector(state => state.homeReducer.config);\r\n\r\n  const addNewDevice = (event) => {\r\n    event.preventDefault();\r\n    const deviceName = event.target.elements.deviceName.value\r\n    if (devicesData.length < config?.maxDevices) {\r\n      dispatch(addDevice(deviceName));\r\n    }else {\r\n      alert(\"You have reached maximum device count\")\r\n    }\r\n    setShowAdd(!showAdd);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container mt-5 mt-sm-5 mt-md-5 mt-lg-0 mt-xl-0\">\r\n        <div className=\"row\">\r\n          {\r\n            !showAdd &&(\r\n              <>\r\n                <div className=\"col-12 col-sm-12 col-md-6 col-lg-2 col-xl-2 pl-0\">\r\n                  <button onClick={() => setShowAdd(!showAdd)} className=\"btn btn-outline-primary w-100\">\r\n                    Add\r\n                  </button>\r\n                </div>\r\n                <div className=\"col-12 col-sm-12 col-md-6 col-lg-2 col-xl-2 pl-0\">\r\n                  <button onClick={() => setShowEdit(!showEdit)} className=\"btn btn-outline-warning w-100\">\r\n                    {showEdit ? \"Cancel\" : \"Edit\"}\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )\r\n          }\r\n          {\r\n            showAdd && (\r\n              <div className=\"col-12 col-sm-12 col-md-8 col-lg-6 col-xl-6 pl-0\">\r\n                <form onSubmit={addNewDevice}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-7\">\r\n                      <div className=\"form-group mb-0\">\r\n                        <input type=\"text\" className=\"form-control\" name=\"deviceName\" id=\"device-name\" placeholder=\"Enter device name\"/>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12 col-sm-12 col-md-3 col-lg-3 col-xl-3 mt-3 mt-sm-3 mt-md-0 mt-lg-0 mt-xl-0\">\r\n                      <button type=\"submit\" className=\"btn btn-primary w-100\">Save</button>\r\n                    </div>\r\n                    <div className=\"col-12 col-sm-12 col-md-3 col-lg-3 col-xl-2 mt-3 mt-sm-3 mt-md-0 mt-lg-0 mt-xl-0\">\r\n                      <button onClick={() => setShowAdd(!showAdd)} type=\"button\" className=\"btn btn-danger w-100\">\r\n                        Close\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}","import React, {useState} from \"react\";\r\nimport \"../../assets/switch.css\";\r\nimport AddController from \"./AddController\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {deleteDevice, saveData, updateDevice, updateState} from \"../views/Home/actions\";\r\nimport {Icon} from \"@iconify/react\";\r\n\r\nexport default function Controls({devicesData}) {\r\n  const dispatch = useDispatch();\r\n  const [showAdd, setShowAdd] = useState(false);\r\n  const [showEdit, setShowEdit] = useState(false);\r\n\r\n  function onChangeSwitch(id, name) {\r\n    let tempArray = [...devicesData];\r\n    let device = tempArray.find(el => el._id === id);\r\n    let index = tempArray.findIndex(el => el._id === id);\r\n    if (device?.state === 1) {\r\n      device.state = 0;\r\n    } else {\r\n      device.state = 1;\r\n    }\r\n    tempArray.splice(index, 1, device);\r\n\r\n    const updateData = {\r\n      deviceId: device._id,\r\n      state: device.state,\r\n      name: name,\r\n    }\r\n    dispatch(saveData(tempArray));\r\n    dispatch(updateState(updateData));\r\n  }\r\n\r\n  const onEditDevice = (event, id) => {\r\n    if (event.key === 'Enter') {\r\n      const updateData = {\r\n        deviceId: id,\r\n        name: event.target.value\r\n      }\r\n      dispatch(updateDevice(updateData));\r\n      setShowEdit(false);\r\n    }\r\n  }\r\n\r\n  const onRemoveDevice = (id) => {\r\n    let confirm = window.confirm(\"Are you sure you want to delete\");\r\n    if (confirm) {\r\n      dispatch(deleteDevice(id));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"container d-flex justify-content-center align-items-center flex-column\"\r\n        style={{minHeight: '100vh'}}\r\n      >\r\n        <AddController\r\n          showAdd={showAdd}\r\n          setShowAdd={setShowAdd}\r\n          showEdit={showEdit}\r\n          setShowEdit={setShowEdit}\r\n          devicesData={devicesData}\r\n        />\r\n        <div className=\"row mb-5\">\r\n          {\r\n            devicesData.map((item) => (\r\n              <div className=\"col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 mt-4\" key={item._id}>\r\n                <div className=\"card\" style={{width: '100%'}}>\r\n                  <div className=\"card-body\">\r\n                      {\r\n                        showEdit ?\r\n                          <div>\r\n                            <input\r\n                              type=\"text\"\r\n                              defaultValue={item.device}\r\n                              onKeyPress={\r\n                                (event) => onEditDevice(event, item._id)\r\n                              } />\r\n                            <Icon\r\n                              icon=\"ant-design:close-circle-filled\"\r\n                              color=\"#f30\"\r\n                              width=\"20\"\r\n                              height=\"20\"\r\n                              className=\"mb-1 ml-1 mouse-hover\"\r\n                              onClick={() => onRemoveDevice(item._id)}\r\n                            />\r\n                          </div>\r\n                          :\r\n                          <h5 className=\"card-title\">{item.device}</h5>\r\n                      }\r\n                    <p className=\"card-text\">This device will turn {item.state === 1 ? \"off\" : \"on\"} automatically by\r\n                      system.</p>\r\n                    <hr/>\r\n                    <label className=\"switch\">\r\n                      <input type=\"checkbox\" checked={item.state === 1} onChange={() => onChangeSwitch(item._id, item.device)}/>\r\n                      <span className=\"slider round\"/>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}","import React from \"react\";\r\nimport Login from \"../../components/Login\";\r\nimport Controls from \"../../components/Controls\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nfunction Home() {\r\n  const isLoggedIn = true;\r\n  const devicesData = useSelector((state) => state.homeReducer.devicesData);\r\n\r\n  return(\r\n    <>\r\n      {!isLoggedIn && <Login/>}\r\n      {isLoggedIn && <Controls devicesData={devicesData}/>}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;","import React, {useEffect} from \"react\";\nimport Home from \"./views/Home/Home\";\nimport {useDispatch} from \"react-redux\";\nimport {getData} from \"./views/Home/actions\";\nimport \"../assets/index.css\";\n\nfunction App() {\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getData())\n  }, [dispatch])\n\n  return (\n    <Home/>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as actionTypes from \"./constants\";\r\n\r\nconst initialState = {\r\n  config: null,\r\n  devicesData: []\r\n};\r\n\r\nconst homeReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.SAVE_DATA:\r\n      return {\r\n        ...state,\r\n        devicesData: action.payload\r\n      }\r\n    case actionTypes.SAVE_CONFIG:\r\n      return {\r\n        ...state,\r\n        config: action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default homeReducer;","import {combineReducers} from \"redux\";\r\nimport homeReducer from \"../app/views/Home/reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  homeReducer: homeReducer,\r\n});\r\n\r\nexport default rootReducer;","import axios from \"axios\";\r\nimport { BASE_URL } from \"../config/config\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: BASE_URL,\r\n});\r\n\r\nexport default instance;\r\n","// export const BASE_URL = \"http://127.0.0.1:5000/\"\r\nexport const BASE_URL = \"http://finalproject-env-1.eba-5pprkiwz.ap-southeast-1.elasticbeanstalk.com/\"","import { call, put, takeLatest } from \"redux-saga/effects\";\r\nimport * as actionTypes from \"./constants\";\r\nimport axios from \"../../../axios/axios\";\r\nimport {saveConfig, saveData} from \"./actions\";\r\n\r\nconst getDataAsync = async () => {\r\n  return axios.get(\"/get-status\").then(res => res.data);\r\n}\r\nconst getConfigAsync = async () => {\r\n  return axios.get(\"/get-config\").then(res => res.data);\r\n}\r\nconst updateStateAsync = async (data) => {\r\n  return axios.patch(`/update-state?deviceId=${data.deviceId}&state=${data.state}&name=${data.name}`).then(res => res.data);\r\n}\r\nconst updateDeviceAsync = async (data) => {\r\n  return axios.patch(`/edit-device?deviceId=${data.deviceId}&deviceName=${data.name}`).then(res => res);\r\n}\r\nconst deleteDeviceAsync = async (data) => {\r\n  return axios.delete(`/delete-device?deviceId=${data}`).then(res => res);\r\n}\r\nconst addDeviceAsync = async (data) => {\r\n  return axios.post(`/add-device?deviceName=${data}`).then(res => res);\r\n}\r\n\r\nfunction* handleGetData() {\r\n  try {\r\n    const configData = yield call(getConfigAsync);\r\n    const deviceData = yield call(getDataAsync);\r\n    yield put(saveData(deviceData));\r\n    if (configData.length > 0) {\r\n      yield put(saveConfig(configData[0]));\r\n    }\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\nfunction* handleUpdateState(data) {\r\n  try {\r\n    const details = data.payload;\r\n    yield call(updateStateAsync, details)\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\nfunction* handleDeviceUpdate(data) {\r\n  try {\r\n    const details = data.payload;\r\n    const response = yield call(updateDeviceAsync, details);\r\n    if (response.status === 200) {\r\n      const response = yield call(getDataAsync);\r\n      yield put(saveData(response));\r\n    }\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\nfunction* handleDeviceDelete(data) {\r\n  try {\r\n    const details = data.payload;\r\n    const response = yield call(deleteDeviceAsync, details);\r\n    if (response.status === 200) {\r\n      const response = yield call(getDataAsync);\r\n      yield put(saveData(response));\r\n    }\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\nfunction* handleDeviceAdd(data) {\r\n  try {\r\n    const details = data.payload;\r\n    const response = yield call(addDeviceAsync, details);\r\n    if (response.status === 201) {\r\n      const response = yield call(getDataAsync);\r\n      yield put(saveData(response));\r\n    }\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nfunction* watchHomeSagas() {\r\n  yield takeLatest(actionTypes.GET_DATA, handleGetData);\r\n  yield takeLatest(actionTypes.UPDATE_SATE, handleUpdateState);\r\n  yield takeLatest(actionTypes.UPDATE_DEVICE, handleDeviceUpdate);\r\n  yield takeLatest(actionTypes.DELETE_DEVICE, handleDeviceDelete);\r\n  yield takeLatest(actionTypes.ADD_DEVICE, handleDeviceAdd);\r\n}\r\n\r\nconst homeSagas = [watchHomeSagas];\r\n\r\nexport default homeSagas;","import {all, fork} from \"redux-saga/effects\";\r\nimport homeSagas from \"../app/views/Home/saga\";\r\n\r\nexport default function* rootSaga() {\r\n  yield all(homeSagas.map((s) => fork(s)));\r\n}","import { applyMiddleware, compose, createStore } from \"redux\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport rootReducer from \"./reducers\";\r\nimport rootSaga from \"./sagas\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nfunction configureStore() {\r\n  const sagaMiddleware = createSagaMiddleware();\r\n  const store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware))\r\n  );\r\n  sagaMiddleware.run(rootSaga);\r\n  return store;\r\n}\r\n\r\nexport default configureStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app/App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport configureStore from \"./store/store\";\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App/>\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}