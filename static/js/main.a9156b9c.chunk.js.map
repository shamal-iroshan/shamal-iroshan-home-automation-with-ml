{"version":3,"sources":["app/views/Home/constants.js","app/views/Home/actions.js","app/components/Login.jsx","app/components/AddController.jsx","app/components/Controls.jsx","app/views/Home/Home.jsx","app/App.js","reportWebVitals.js","app/views/Home/reducer.js","store/reducers.js","axios/axios.js","config/config.js","app/views/Home/saga.js","store/sagas.js","store/store.js","index.js"],"names":["GET_DATA","SAVE_DATA","SAVE_CONFIG","UPDATE_SATE","UPDATE_DEVICE","DELETE_DEVICE","ADD_DEVICE","SET_LOGGING","saveData","data","type","actionTypes","payload","Login","dispatch","useDispatch","className","style","height","width","onSubmit","event","preventDefault","username","target","elements","value","password","alert","htmlFor","id","name","placeholder","AddController","showAdd","setShowAdd","showEdit","setShowEdit","devicesData","config","useSelector","state","homeReducer","onClick","deviceName","length","maxDevices","Controls","useState","onChangeSwitch","tempArray","device","find","el","_id","index","findIndex","splice","updateData","deviceId","day","Date","getDay","on","toLocaleTimeString","undefined","off","onEditDevice","key","onRemoveDevice","window","confirm","minHeight","map","item","defaultValue","onKeyPress","icon","color","checked","onChange","Home","isLoggedIn","App","useEffect","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","action","rootReducer","combineReducers","instance","axios","create","baseURL","handleGetData","handleUpdateState","handleDeviceUpdate","handleDeviceDelete","handleDeviceAdd","watchHomeSagas","getDataAsync","a","get","res","getConfigAsync","updateStateAsync","values","patch","params","updateDeviceAsync","deleteDeviceAsync","delete","addDeviceAsync","post","call","configData","deviceData","put","console","error","details","status","response","takeLatest","homeSagas","rootSaga","all","s","fork","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","configureStore","store","sagaMiddleware","createSagaMiddleware","createStore","applyMiddleware","run","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a9156b9c.chunk.js","sourcesContent":["export const GET_DATA = \"Home/GET_DATA\";\r\nexport const SAVE_DATA = \"Home/SAVE_DATA\";\r\nexport const SAVE_CONFIG = \"Home/SAVE_CONFIG\";\r\nexport const UPDATE_SATE = \"Home/UPDATE_STATE\";\r\nexport const UPDATE_DEVICE = \"Home/UPDATE_DEVICE\";\r\nexport const DELETE_DEVICE = \"Home/DELETE_DEVICE\";\r\nexport const ADD_DEVICE = \"Home/ADD_DEVICE\";\r\nexport const SET_LOGGING = \"Home/SET_LOGGING\";","import * as actionTypes from \"./constants\";\r\n\r\nexport const getData = () => {\r\n  return {\r\n    type: actionTypes.GET_DATA,\r\n  }\r\n};\r\nexport const saveData = (data) => {\r\n  return {\r\n    type: actionTypes.SAVE_DATA,\r\n    payload: data,\r\n  }\r\n};\r\nexport const saveConfig = (data) => {\r\n  return {\r\n    type: actionTypes.SAVE_CONFIG,\r\n    payload: data,\r\n  }\r\n};\r\nexport const updateState = (data) => {\r\n  return {\r\n    type: actionTypes.UPDATE_SATE,\r\n    payload: data\r\n  }\r\n}\r\nexport const updateDevice = (data) => {\r\n  return {\r\n    type: actionTypes.UPDATE_DEVICE,\r\n    payload: data\r\n  }\r\n}\r\nexport const deleteDevice = (data) => {\r\n  return {\r\n    type: actionTypes.DELETE_DEVICE,\r\n    payload: data\r\n  }\r\n}\r\nexport const addDevice = (data) => {\r\n  return {\r\n    type: actionTypes.ADD_DEVICE,\r\n    payload: data\r\n  }\r\n}\r\nexport const setLoggedIn = (data) => {\r\n  return {\r\n    type: actionTypes.SET_LOGGING,\r\n    payload: data\r\n  }\r\n}","import React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setLoggedIn} from \"../views/Home/actions\";\r\n\r\nexport default function Login() {\r\n  const dispatch = useDispatch();\r\n  function formSubmit(event) {\r\n    event.preventDefault();\r\n    let username = event.target.elements.username.value;\r\n    let password = event.target.elements.password.value;\r\n    if (username === \"shamal\" && password === \"Shamal@2000\") {\r\n      dispatch(setLoggedIn(true))\r\n    } else {\r\n      alert(\"Check your username and password\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12 d-flex justify-content-center align-items-center\" style={{height: \"100vh\"}}>\r\n            <form style={{width: '500px'}} onSubmit={formSubmit}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"username\">Username</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"username\" name=\"username\" placeholder=\"Username\"/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"password\">Password</label>\r\n                <input type=\"password\" className=\"form-control\" id=\"password\" name=\"password\" placeholder=\"Password\"/>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\">Login</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}","import React from \"react\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {addDevice} from \"../views/Home/actions\";\r\n\r\nexport default function AddController({showAdd, setShowAdd, showEdit, setShowEdit, devicesData}) {\r\n  const dispatch = useDispatch();\r\n  const config = useSelector(state => state.homeReducer.config);\r\n\r\n  const addNewDevice = (event) => {\r\n    event.preventDefault();\r\n    const deviceName = event.target.elements.deviceName.value\r\n    if (devicesData.length < config?.maxDevices) {\r\n      dispatch(addDevice(deviceName));\r\n    }else {\r\n      alert(\"You have reached maximum device count\")\r\n    }\r\n    setShowAdd(!showAdd);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container mt-5 mt-sm-5 mt-md-5 mt-lg-0 mt-xl-0\">\r\n        <div className=\"row\">\r\n          {\r\n            !showAdd &&(\r\n              <>\r\n                <div className=\"col-12 col-sm-12 col-md-6 col-lg-2 col-xl-2 pl-0\">\r\n                  <button onClick={() => setShowAdd(!showAdd)} className=\"btn btn-outline-primary w-100\">\r\n                    Add\r\n                  </button>\r\n                </div>\r\n                <div className=\"col-12 col-sm-12 col-md-6 col-lg-2 col-xl-2 pl-0\">\r\n                  <button onClick={() => setShowEdit(!showEdit)} className=\"btn btn-outline-warning w-100\">\r\n                    {showEdit ? \"Cancel\" : \"Edit\"}\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )\r\n          }\r\n          {\r\n            showAdd && (\r\n              <div className=\"col-12 col-sm-12 col-md-8 col-lg-6 col-xl-6 pl-0\">\r\n                <form onSubmit={addNewDevice}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-7\">\r\n                      <div className=\"form-group mb-0\">\r\n                        <input type=\"text\" className=\"form-control\" name=\"deviceName\" id=\"device-name\" placeholder=\"Enter device name\"/>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12 col-sm-12 col-md-3 col-lg-3 col-xl-3 mt-3 mt-sm-3 mt-md-0 mt-lg-0 mt-xl-0\">\r\n                      <button type=\"submit\" className=\"btn btn-primary w-100\">Save</button>\r\n                    </div>\r\n                    <div className=\"col-12 col-sm-12 col-md-3 col-lg-3 col-xl-2 mt-3 mt-sm-3 mt-md-0 mt-lg-0 mt-xl-0\">\r\n                      <button onClick={() => setShowAdd(!showAdd)} type=\"button\" className=\"btn btn-danger w-100\">\r\n                        Close\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}","import React, {useState} from \"react\";\r\nimport \"../../assets/switch.css\";\r\nimport AddController from \"./AddController\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {deleteDevice, saveData, updateDevice, updateState} from \"../views/Home/actions\";\r\nimport {Icon} from \"@iconify/react\";\r\n\r\nexport default function Controls({devicesData}) {\r\n  const dispatch = useDispatch();\r\n  const [showAdd, setShowAdd] = useState(false);\r\n  const [showEdit, setShowEdit] = useState(false);\r\n\r\n  function onChangeSwitch(id, name) {\r\n    let tempArray = [...devicesData];\r\n    let device = tempArray.find(el => el._id === id);\r\n    let index = tempArray.findIndex(el => el._id === id);\r\n    if (device?.state === 1) {\r\n      device.state = 0;\r\n    } else {\r\n      device.state = 1;\r\n    }\r\n    tempArray.splice(index, 1, device);\r\n\r\n    const updateData = {\r\n      deviceId: device._id,\r\n      state: device.state,\r\n      name: name,\r\n      day: new Date().getDay(),\r\n      on: name === \"automated\" && device.state === 1 ? new Date().toLocaleTimeString() : undefined,\r\n      off: name === \"automated\" && device.state === 0 ? new Date().toLocaleTimeString() : undefined\r\n    }\r\n    dispatch(saveData(tempArray));\r\n    dispatch(updateState(updateData));\r\n  }\r\n\r\n  const onEditDevice = (event, id) => {\r\n    if (event.key === 'Enter') {\r\n      const updateData = {\r\n        deviceId: id,\r\n        name: event.target.value\r\n      }\r\n      dispatch(updateDevice(updateData));\r\n      setShowEdit(false);\r\n    }\r\n  }\r\n\r\n  const onRemoveDevice = (id) => {\r\n    let confirm = window.confirm(\"Are you sure you want to delete\");\r\n    if (confirm) {\r\n      dispatch(deleteDevice(id));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"container d-flex justify-content-center align-items-center flex-column\"\r\n        style={{minHeight: '100vh'}}\r\n      >\r\n        <AddController\r\n          showAdd={showAdd}\r\n          setShowAdd={setShowAdd}\r\n          showEdit={showEdit}\r\n          setShowEdit={setShowEdit}\r\n          devicesData={devicesData}\r\n        />\r\n        <div className=\"row mb-5\" style={{width: 'inherit'}}>\r\n          {\r\n            devicesData.map((item, index) => (\r\n              <div className={`col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 mt-4 ${index === 0 && \"pl-0\"}`}\r\n                   style={{width: 'inherit'}} key={item._id}>\r\n                <div className={`card ${item.device === \"automated\" && \"bg-warning\"} `}\r\n                     style={{width: 'inherit', height: 200}}>\r\n                  <div className=\"card-body\">\r\n                    {\r\n                      showEdit ?\r\n                        <div>\r\n                          <input\r\n                            type=\"text\"\r\n                            defaultValue={item.device}\r\n                            onKeyPress={\r\n                              (event) => onEditDevice(event, item._id)\r\n                            }/>\r\n                          <Icon\r\n                            icon=\"ant-design:close-circle-filled\"\r\n                            color=\"#f30\"\r\n                            width=\"20\"\r\n                            height=\"20\"\r\n                            className=\"mb-1 ml-1 mouse-hover\"\r\n                            onClick={() => onRemoveDevice(item._id)}\r\n                          />\r\n                        </div>\r\n                        :\r\n                        <h5 className=\"card-title\">{item.device}</h5>\r\n                    }\r\n                    {\r\n                      item.device === \"automated\" &&\r\n                      <p className=\"card-text\">This device will turn {item.state === 1 ? \"off\" : \"on\"} automatically by\r\n                        system.</p>\r\n                    }\r\n                    <hr/>\r\n                    <label className=\"switch\">\r\n                      <input type=\"checkbox\" checked={item.state === 1}\r\n                             onChange={() => onChangeSwitch(item._id, item.device)}/>\r\n                      <span className=\"slider round\"/>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}","import React from \"react\";\r\nimport Login from \"../../components/Login\";\r\nimport Controls from \"../../components/Controls\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nfunction Home() {\r\n  const isLoggedIn = useSelector((state) => state.homeReducer.isLoggedIn);\r\n  const devicesData = useSelector((state) => state.homeReducer.devicesData);\r\n\r\n  return(\r\n    <>\r\n      {!isLoggedIn && <Login/>}\r\n      {isLoggedIn && <Controls devicesData={devicesData}/>}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;","import React, {useEffect} from \"react\";\nimport Home from \"./views/Home/Home\";\nimport {useDispatch} from \"react-redux\";\nimport {getData} from \"./views/Home/actions\";\nimport \"../assets/index.css\";\n\nfunction App() {\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getData())\n  }, [dispatch])\n\n  return (\n    <Home/>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as actionTypes from \"./constants\";\r\n\r\nconst initialState = {\r\n  config: null,\r\n  devicesData: [],\r\n  isLoggedIn: false\r\n};\r\n\r\nconst homeReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.SAVE_DATA:\r\n      return {\r\n        ...state,\r\n        devicesData: action.payload\r\n      }\r\n    case actionTypes.SAVE_CONFIG:\r\n      return {\r\n        ...state,\r\n        config: action.payload\r\n      }\r\n    case actionTypes.SET_LOGGING:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default homeReducer;","import {combineReducers} from \"redux\";\r\nimport homeReducer from \"../app/views/Home/reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  homeReducer: homeReducer,\r\n});\r\n\r\nexport default rootReducer;","import axios from \"axios\";\r\nimport { BASE_URL } from \"../config/config\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: BASE_URL,\r\n});\r\n\r\nexport default instance;\r\n","// export const BASE_URL = \"http://127.0.0.1:5000/\"\r\nexport const BASE_URL = \"http://finalproject-env-1.eba-5pprkiwz.ap-southeast-1.elasticbeanstalk.com/\"","import {call, put, takeLatest} from \"redux-saga/effects\";\r\nimport * as actionTypes from \"./constants\";\r\nimport axios from \"../../../axios/axios\";\r\nimport {saveConfig, saveData} from \"./actions\";\r\n\r\nconst getDataAsync = async () => {\r\n  return axios.get(\"/get-status\").then(res => res.data);\r\n}\r\nconst getConfigAsync = async () => {\r\n  return axios.get(\"/get-config\").then(res => res.data);\r\n}\r\nconst updateStateAsync = async (data) => {\r\n  const values = {\r\n    deviceId: data.deviceId,\r\n    state: data.state,\r\n    name: data.name,\r\n    day: data.day,\r\n    on: data.on ? data.on : undefined,\r\n    off: data.off ? data.off : undefined,\r\n  }\r\n  return axios\r\n    .patch(`/update-state`, null, {params: values})\r\n    .then(res => res.data);\r\n}\r\nconst updateDeviceAsync = async (data) => {\r\n  return axios.patch(`/edit-device?deviceId=${data.deviceId}&deviceName=${data.name}`).then(res => res);\r\n}\r\nconst deleteDeviceAsync = async (data) => {\r\n  return axios.delete(`/delete-device?deviceId=${data}`).then(res => res);\r\n}\r\nconst addDeviceAsync = async (data) => {\r\n  return axios.post(`/add-device?deviceName=${data}`).then(res => res);\r\n}\r\n\r\nfunction* handleGetData() {\r\n  try {\r\n    const configData = yield call(getConfigAsync);\r\n    const deviceData = yield call(getDataAsync);\r\n    yield put(saveData(deviceData));\r\n    if (configData.length > 0) {\r\n      yield put(saveConfig(configData[0]));\r\n    }\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nfunction* handleUpdateState(data) {\r\n  try {\r\n    const details = data.payload;\r\n    yield call(updateStateAsync, details)\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nfunction* handleDeviceUpdate(data) {\r\n  try {\r\n    const details = data.payload;\r\n    const response = yield call(updateDeviceAsync, details);\r\n    if (response.status === 200) {\r\n      const response = yield call(getDataAsync);\r\n      yield put(saveData(response));\r\n    }\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nfunction* handleDeviceDelete(data) {\r\n  try {\r\n    const details = data.payload;\r\n    const response = yield call(deleteDeviceAsync, details);\r\n    if (response.status === 200) {\r\n      const response = yield call(getDataAsync);\r\n      yield put(saveData(response));\r\n    }\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nfunction* handleDeviceAdd(data) {\r\n  try {\r\n    const details = data.payload;\r\n    const response = yield call(addDeviceAsync, details);\r\n    if (response.status === 201) {\r\n      const response = yield call(getDataAsync);\r\n      yield put(saveData(response));\r\n    }\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nfunction* watchHomeSagas() {\r\n  yield takeLatest(actionTypes.GET_DATA, handleGetData);\r\n  yield takeLatest(actionTypes.UPDATE_SATE, handleUpdateState);\r\n  yield takeLatest(actionTypes.UPDATE_DEVICE, handleDeviceUpdate);\r\n  yield takeLatest(actionTypes.DELETE_DEVICE, handleDeviceDelete);\r\n  yield takeLatest(actionTypes.ADD_DEVICE, handleDeviceAdd);\r\n}\r\n\r\nconst homeSagas = [watchHomeSagas];\r\n\r\nexport default homeSagas;","import {all, fork} from \"redux-saga/effects\";\r\nimport homeSagas from \"../app/views/Home/saga\";\r\n\r\nexport default function* rootSaga() {\r\n  yield all(homeSagas.map((s) => fork(s)));\r\n}","import { applyMiddleware, compose, createStore } from \"redux\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport rootReducer from \"./reducers\";\r\nimport rootSaga from \"./sagas\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nfunction configureStore() {\r\n  const sagaMiddleware = createSagaMiddleware();\r\n  const store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware))\r\n  );\r\n  sagaMiddleware.run(rootSaga);\r\n  return store;\r\n}\r\n\r\nexport default configureStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app/App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport configureStore from \"./store/store\";\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App/>\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}